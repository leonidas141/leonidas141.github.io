<!DOCTYPE html>
<html>

<head>
    <link rel="shortcut icon" type="image/x-icon" href="../../../asset/image/aoyama.png">
    <meta charset="utf-8">
    <title>阅读</title>
    <link rel="stylesheet" href="../../../asset/css/style.css">
    <!-- 引入导航栏脚本 -->
    <script src="../../../asset/js/navigation.js"></script>
</head>

<body>
    <!-- box1 导航栏将通过 navigation.js 自动生成 -->
    <div class="maintext" id="maintext">
        <!-- Markdown 内容将在这里动态加载 -->
    </div>

    <!-- 引入 marked.js 用于解析 Markdown -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        // 获取当前 HTML 文件名（不含扩展名）
        const currentFileName = window.location.pathname.split('/').pop().replace('.html', '');
        
        // 构建同名的 md 文件路径
        const mdFilePath = currentFileName + '.md';
        
        // 加载并渲染 Markdown 文件
        fetch(mdFilePath)
            .then(response => {
                if (!response.ok) {
                    throw new Error('无法加载 Markdown 文件');
                }
                return response.text();
            })
            .then(markdown => {
                // 使用 marked.js 将 Markdown 转换为 HTML
                const html = marked.parse(markdown);
                // 将转换后的 HTML 插入到 maintext 容器中
                document.getElementById('maintext').innerHTML = html;
            })
            .catch(error => {
                console.error('加载 Markdown 文件时出错:', error);
                document.getElementById('maintext').innerHTML = '<p>无法加载内容，请检查 ' + mdFilePath + ' 文件是否存在。</p>';
            });
    </script>
</body>

</html>